import{r as a,j as i,B as f}from"./index-a3d35e26.js";const j=e=>{const[s,m]=a.useState(),[t,g]=a.useState(),[c,d]=a.useState(!1),o=a.useRef();a.useEffect(()=>{if(!s)return;const l=new FileReader;l.onload=()=>{g(l.result)},l.readAsDataURL(s)},[s]);const u=l=>{e.profile&&e.setDeletedImg(!1);let n,r=c;l.target.files&&l.target.files.length===1?(n=l.target.files[0],m(n),d(!0),r=!0):s||(d(!1),r=!1),e.profile?e.onInput(n):e.onInput(e.id,n,r)},x=()=>{o.current.click()};return i.jsxs("div",{className:"form-control",children:[i.jsx("input",{id:e.id,ref:o,style:{display:"none"},type:"file",accept:".jpg,.png,.jpeg",onChange:u}),i.jsxs("div",{className:e.profile?"profile-img-container":"image-upload",children:[i.jsx("div",{className:e.profile?"profile-img-container":"image-upload",children:e.profile?e.deletedImg?i.jsx("img",{src:e.defaultImg,alt:"Preview",className:"profileImg"}):i.jsx("img",{src:t||e.defaultImg,alt:"Preview",className:"profileImg"}):i.jsxs("div",{className:"image-upload__preview",children:[t&&i.jsx("img",{src:t,alt:"Preview"}),!t&&i.jsx("p",{children:"Please pick an image."})]})}),i.jsxs("div",{className:e.profile?"btn-container":"",children:[i.jsx(f,{type:"button",onClick:x,class:"main-color-button btn-xs ",children:"PICK IMAGE"}),e.profile?i.jsx(f,{type:"button",class:"third-color-button btn-xs",onClick:e.saveImg,children:"SAVE IMAGE"}):!c&&i.jsx("span",{className:"error-text",children:e.errorText})]})]})]})};export{j as I};
